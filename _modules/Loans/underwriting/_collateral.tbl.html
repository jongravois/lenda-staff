<!--<pre>{{loan.priorlien|json}}</pre>-->
<table class="table table-striped rowed disp-sm" style="width:96%; margin: 0 auto;">
    <tr>
        <th style="width:37%;">&nbsp;</th>
        <th class="text-center" style="width:12%;">
            Mkt Value
        </th>
        <th class="text-center" style="width:12%;">
            Discount
        </th>
        <th class="text-center" style="width:15%;">
            Prior Lien
        </th>
        <th class="text-center" style="width:12%;">
            Value
        </th>
    </tr>
    <!--PROJECTED CROPS-->
    <tr>
        <td>Crops</td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcProjectedCrops(loan))">
            {{AppFactory.calcProjectedCrops(loan)|flexCurrency:0}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(loan.fins.discounts.percent_crop)">
            {{loan.fins.discounts.percent_crop|flexPercent:1}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(loan.priorlien.totals.projected_crops)">
            {{loan.fins.prior_lien_total|flexCurrency:0}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcPlannedCropValue(loan))">
            {{AppFactory.calcPlannedCropValue(loan)|flexCurrency:0}}
        </td>
    </tr>
    <!--INS OVER DISCOUNTED YIELD-->
    <tr>
        <td>MPCI>Crop</td>
        <td class="text-right">
            {{AppFactory.calcTotalInsOverDisc(loan)|flexCurrency:0}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(loan.fins.discounts.percent_insoyield)">
            {{loan.fins.discounts.percent_insoyield|flexPercent:1}}
        </td>
        <td class="text-center">
            {{0|flexCurrency:0}}
        </td>
        <td class="text-right">
            {{AppFactory.calcIODCollateralValue(loan)|flexCurrency:0}}
        </td>
    </tr>
    <!--SUPPLEMENTAL COVERAGE-->
    <tr>
        <td>Stax/SCO</td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcSuppCoverage(loan))">
            {{AppFactory.calcSuppCoverage(loan)|flexCurrency:0}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(loan.fins.discounts.percent_suppins)">
            {{loan.fins.discounts.percent_suppins|flexPercent:1}}
        </td>
        <td class="text-center">-</td>
        <td class="text-right">
            {{AppFactory.calcTotalSupIns(loan)|flexCurrency:0}}
        </td>
    </tr>
    <!--EQUIPMENT-->
    <tr>
        <td>Equipment</td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcOCMVbyType('equipment', loan))">
            {{AppFactory.calcOCMVbyType('equipment', loan)|flexCurrency:0}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcOCDbyType('equipment', loan))">
            {{AppFactory.calcOCDbyType('equipment', loan)|flexPercent:1}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcOCPLbyType('equipment', loan))">
            {{AppFactory.calcOCPLbyType('equipment', loan)|flexCurrency:0}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcOtherColByType('equipment', loan))">
            {{AppFactory.calcOtherCollateralByType('equipment', loan)|flexCurrency:0}}
        </td>
    </tr>
    <!--REAL ESTATE-->
    <tr>
        <td>Real Estate</td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcOCMVbyType('realestate', loan))">
            {{AppFactory.calcOCMVbyType('realestate', loan)|flexCurrency:0}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcOCDbyType('realestate', loan))">
            {{AppFactory.calcOCDbyType('realestate', loan)|flexPercent:1}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcOCPLbyType('realestate', loan))">
            {{AppFactory.calcOCPLbyType('realestate', loan)|flexCurrency:0}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcOtherCollateralByType('realestate', loan))">
            {{AppFactory.calcOtherCollateralByType('realestate', loan)|flexCurrency:0}}
        </td>
    </tr>
    <!--OTHER COLLATERAL-->
    <tr>
        <td>Other</td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcOCMVbyType('other', loan))">
            {{AppFactory.calcOCMVbyType('other', loan)|flexCurrency:0}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcOCDbyType('other', loan))">
            {{AppFactory.calcOCDbyType('other', loan)|flexPercent:1}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcOCPLbyType('other', loan))">
            {{AppFactory.calcOCPLbyType('other', loan)|flexCurrency:0}}
        </td>
        <td class="text-right">
            {{AppFactory.calcOtherCollateralByType('other', loan)|flexCurrency:0}}
        </td>

    </tr>
    <!--FSA ASSIGNMENT-->
    <tr style="display: none;">
        <td>FSA Assignment</td>
        <td class="text-right" ng-class="AppFactory.gtZero(loan.fins.total_fsa_payment)">
            {{loan.fins.total_fsa_pay|flexCurrency:0}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(loan.fins.discounts.percent_fsa)">
            {{loan.fins.discounts.percent_fsa|flexPercent:1}}
        </td>
        <td class="text-center">-</td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcFSACollateralValue(loan))">
            {{AppFactory.calcFSACollateralValue(loan)|flexCurrency:0}}
        </td>
    </tr>
    <!--TOTALS-->
    <tr class="success">
        <td>Total</td>
        <td class="text-right">
            {{AppFactory.calcTotalCollateral(loan)|flexCurrency:0}}
        </td>
        <td class="text-center"> - </td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcTotalCollateralLiens(loan))">
            {{AppFactory.calcTotalCollateralLiens(loan)|flexCurrency:0}}
        </td>
        <td class="text-right" ng-class="AppFactory.gtZero(AppFactory.calcTotalCropValues(loan))">
            {{AppFactory.calcTotalCropValues(loan)|flexCurrency:0}}
        </td>
    </tr>
</table>